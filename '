import React, {Component} from 'react'
import {Icon} from 'egghead-ui'
import {Text} from 'react-localize'
import ProposeLessonForm from './components/ProposeLessonForm'

export default class extends Component {

  state = {
    isOpen: false,
  }

  handleClick = () => (
    this.setState({
      isOpen: true,
    })
  )

  render() {
    const {isOpen} = this.state
    const {instructor} = this.props
    return isOpen
      ? <ProposeLessonForm instructor={instructor} />
      : <div 
          className='blue'
          onClick={this.handleClick}
        >
          <Icon
            type='add'
            color='blue'
          />
          <Text message='requestedLessons.proposeLesson.action' />
        </div>
  }
}
